<!DOCTYPE html>

<html>
    <head>
        <title>graph</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript">
            
            function Points(X,Y,C){
                this.X=X,
                this.Y=Y,
                this.C=C
            }
            
            function DrawLine(a1,b1,a2,b2,pen){
                pen.beginPath();
                
                pen.moveTo(a1,b1);
                pen.lineTo(a2,b2);
                pen.stroke();
                
            }
                        
            function clearit(){
                alert("are u sure?");
                var t=document.getElementById("board");
                var pen=t.getContext("2d");
                pen.clearRect(0,0,1000,1000);
            }
            
            function processEqn(){
                var str=document.getElementById("eqn").value;
                var t1=parseInt(str.substring(0,str.indexOf("X")));
                var t2=parseInt(str.substring(str.indexOf("X")+1,str.indexOf("Y")));
                var t3=parseInt(str.substring(str.indexOf("=")+1));
                var plot = new Points(t1,t2,t3);
                
                return plot;
            }
            
            function Start(){
                var plot = processEqn();
                var t=document.getElementById("board");
                var pen=t.getContext("2d");
                DrawLine(0,500,1000,500,pen);
                DrawLine(500,0,500,1000,pen);
                
                pen.fillText("(0,0)",500,500);
                
        
                var slope = -1*(parseInt(plot.X)/parseInt(plot.Y));
                var c = parseInt(plot.C)/parseInt(plot.Y);
                
                                
                var start=parseInt(document.getElementById("x1").value);
                var end=parseInt(document.getElementById("y1").value);
                var step=parseInt(document.getElementById("step").value);
                
                var stepsize=parseInt(-(start-end)/step);
                var nx=start+500;
                for( var i=0;i<stepsize;i++){
                    //alert("next newx "+newx)
                    //alert("x1 "+newx);
                    var ny = (nx-500)*slope + c + 500;
                    //alert("y1 "+newy);
                    var nxend=nx+step;
                    //alert("x2 "+newxend);
                    var nyend = (nxend-500)*slope + c + 500;
                    //alert("y2 "+newyend);

                    DrawLine(nx,ny,nxend,nyend,pen);
                    nx=nx+step;

                    //alert("next newx "+newx);
                }
            }
            
        </script>
    </head>
    <body>
        
        <form>
            &nbsp&nbsp&nbsp&nbsp enter the equation in aX + bY = C format<br>
            
            &nbsp&nbsp&nbsp&nbsp<input id="eqn" type="text"><br>
            &nbsp&nbsp&nbsp&nbsp enter range<br>
            Start<input id="x1" value="-500" type="number"> <br>
            Stop<input id="y1" value="500" type="number"><br>
            
            &nbsp&nbsp&nbsp&nbsp enter steps<br>
            &nbsp&nbsp&nbsp&nbsp<input id="step" type="number"> <br>
            &nbsp&nbsp&nbsp
            <input type="button" onclick="Start()" value="Draw">
            &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
            <input type="button" onclick="clearit()" value="Clear">
        </form>
        
        <canvas style='background-color:whitesmoke;' id="board" width="1000" height="1000">
            
        </canvas>
        
    </body>
</html>